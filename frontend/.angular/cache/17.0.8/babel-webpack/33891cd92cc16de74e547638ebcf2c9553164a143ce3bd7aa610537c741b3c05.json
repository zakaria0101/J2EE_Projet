{"ast":null,"code":"import { ProductInfo } from \"../../models/productInfo\";\nimport { ProductService } from \"../../services/product.service\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ProductEditComponent_div_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Name is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductEditComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProductEditComponent_div_11_div_1_Template, 2, 0, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.errors.required);\n  }\n}\nfunction ProductEditComponent_div_21_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Name is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductEditComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProductEditComponent_div_21_div_1_Template, 2, 0, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r4 = i0.ɵɵreference(20);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r4.errors.required);\n  }\n}\nfunction ProductEditComponent_div_43_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Price is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductEditComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProductEditComponent_div_43_div_1_Template, 2, 0, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r6 = i0.ɵɵreference(42);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r6.errors.required);\n  }\n}\nfunction ProductEditComponent_div_49_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Stock is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductEditComponent_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProductEditComponent_div_49_div_1_Template, 2, 0, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r8 = i0.ɵɵreference(48);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r8.errors.required);\n  }\n}\nexport let ProductEditComponent = /*#__PURE__*/(() => {\n  class ProductEditComponent {\n    constructor(productService, route, router) {\n      this.productService = productService;\n      this.route = route;\n      this.router = router;\n      this.product = new ProductInfo();\n      this.isEdit = false;\n    }\n    ngOnInit() {\n      this.productId = this.route.snapshot.paramMap.get(\"id\");\n      if (this.productId) {\n        this.isEdit = true;\n        this.productService.getDetail(this.productId).subscribe(prod => this.product = prod);\n      }\n    }\n    update() {\n      this.productService.update(this.product).subscribe(prod => {\n        if (!prod) throw new Error();\n        this.router.navigate([\"/seller\"]);\n      }, err => {});\n    }\n    onSubmit() {\n      if (this.productId) {\n        this.update();\n      } else {\n        this.add();\n      }\n    }\n    add() {\n      this.productService.create(this.product).subscribe(prod => {\n        if (!prod) throw new Error();\n        this.router.navigate([\"/\"]);\n      }, e => {});\n    }\n    ngAfterContentChecked() {\n      console.log(this.product);\n    }\n    static #_ = this.ɵfac = function ProductEditComponent_Factory(t) {\n      return new (t || ProductEditComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductEditComponent,\n      selectors: [[\"app-product-edit\"]],\n      decls: 61,\n      vars: 21,\n      consts: [[\"align\", \"center\", 1, \"display-4\", \"mb-5\"], [2, \"width\", \"40%\", \"margin\", \"25px auto\"], [3, \"ngSubmit\"], [\"form\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"productId\"], [\"type\", \"text\", \"id\", \"productId\", \"name\", \"productId\", \"required\", \"\", 1, \"form-control\", \"form-control-lg\", 3, \"readOnly\", \"disabled\", \"ngModel\", \"ngModelChange\"], [\"productIdInput\", \"\", \"productId\", \"ngModel\"], [4, \"ngIf\"], [\"type\", \"text\", \"id\", \"productIcon\", \"name\", \"productIcon\", \"placeholder\", \"Photo\", 1, \"form-control\", \"form-control-lg\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"productName\", \"name\", \"productName\", \"placeholder\", \"Name\", \"required\", \"\", 1, \"form-control\", \"form-control-lg\", 3, \"ngModel\", \"ngModelChange\"], [\"productName\", \"ngModel\"], [\"for\", \"categoryType\"], [\"id\", \"categoryType\", \"name\", \"categoryType\", \"required\", \"\", 1, \"custom-select\", \"custom-select-lg\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\"], [\"id\", \"productDescription\", \"name\", \"productDescription\", \"placeholder\", \"Description\", 1, \"form-control\", \"form-control-lg\", \"text-left\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"productPrice\"], [\"type\", \"number\", \"id\", \"productPrice\", \"name\", \"productPrice\", \"required\", \"\", 1, \"form-control\", \"form-control-lg\", 3, \"ngModel\", \"ngModelChange\"], [\"productPrice\", \"ngModel\"], [\"for\", \"productStock\"], [\"type\", \"number\", \"id\", \"productStock\", \"name\", \"productStock\", \"min\", \"0\", \"required\", \"\", 1, \"form-control\", \"form-control-lg\", 3, \"ngModel\", \"ngModelChange\"], [\"productStock\", \"ngModel\"], [\"for\", \"productStatus\"], [\"id\", \"productStatus\", \"name\", \"productStatus\", \"required\", \"\", 1, \"custom-select\", \"custom-select-lg\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-lg\", \"btn-primary\", \"btn-block\", 3, \"disabled\"]],\n      template: function ProductEditComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h1\", 0);\n          i0.ɵɵtext(1, \"Edit Product\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"div\", 1)(3, \"form\", 2, 3);\n          i0.ɵɵlistener(\"ngSubmit\", function ProductEditComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(5, \"div\", 4)(6, \"label\", 5);\n          i0.ɵɵtext(7, \"Code\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"input\", 6, 7);\n          i0.ɵɵlistener(\"ngModelChange\", function ProductEditComponent_Template_input_ngModelChange_8_listener($event) {\n            return ctx.product.productId = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(11, ProductEditComponent_div_11_Template, 2, 1, \"div\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"div\", 4)(13, \"label\");\n          i0.ɵɵtext(14, \"Photo Link\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"input\", 9);\n          i0.ɵɵlistener(\"ngModelChange\", function ProductEditComponent_Template_input_ngModelChange_15_listener($event) {\n            return ctx.product.productIcon = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"div\", 4)(17, \"label\");\n          i0.ɵɵtext(18, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"input\", 10, 11);\n          i0.ɵɵlistener(\"ngModelChange\", function ProductEditComponent_Template_input_ngModelChange_19_listener($event) {\n            return ctx.product.productName = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(21, ProductEditComponent_div_21_Template, 2, 1, \"div\", 8);\n          i0.ɵɵelementStart(22, \"div\", 4)(23, \"label\", 12);\n          i0.ɵɵtext(24, \"Category\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"select\", 13);\n          i0.ɵɵlistener(\"ngModelChange\", function ProductEditComponent_Template_select_ngModelChange_25_listener($event) {\n            return ctx.product.categoryType = $event;\n          });\n          i0.ɵɵelementStart(26, \"option\", 14);\n          i0.ɵɵtext(27, \"Books\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"option\", 14);\n          i0.ɵɵtext(29, \"Food\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"option\", 14);\n          i0.ɵɵtext(31, \"Clothes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"option\", 14);\n          i0.ɵɵtext(33, \"Drink\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(34, \"div\", 4)(35, \"label\");\n          i0.ɵɵtext(36, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(37, \"textarea\", 15);\n          i0.ɵɵlistener(\"ngModelChange\", function ProductEditComponent_Template_textarea_ngModelChange_37_listener($event) {\n            return ctx.product.productDescription = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(38, \"div\", 4)(39, \"label\", 16);\n          i0.ɵɵtext(40, \"Price\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(41, \"input\", 17, 18);\n          i0.ɵɵlistener(\"ngModelChange\", function ProductEditComponent_Template_input_ngModelChange_41_listener($event) {\n            return ctx.product.productPrice = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(43, ProductEditComponent_div_43_Template, 2, 1, \"div\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(44, \"div\", 4)(45, \"label\", 19);\n          i0.ɵɵtext(46, \"Stock\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(47, \"input\", 20, 21);\n          i0.ɵɵlistener(\"ngModelChange\", function ProductEditComponent_Template_input_ngModelChange_47_listener($event) {\n            return ctx.product.productStock = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(49, ProductEditComponent_div_49_Template, 2, 1, \"div\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(50, \"div\", 4)(51, \"label\", 22);\n          i0.ɵɵtext(52, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(53, \"select\", 23);\n          i0.ɵɵlistener(\"ngModelChange\", function ProductEditComponent_Template_select_ngModelChange_53_listener($event) {\n            return ctx.product.productStatus = $event;\n          });\n          i0.ɵɵelementStart(54, \"option\", 14);\n          i0.ɵɵtext(55, \"Available\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(56, \"option\", 14);\n          i0.ɵɵtext(57, \"Unavailable\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(58, \"div\", 4)(59, \"button\", 24);\n          i0.ɵɵtext(60, \"Submit\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          const _r0 = i0.ɵɵreference(4);\n          const _r1 = i0.ɵɵreference(9);\n          const _r4 = i0.ɵɵreference(20);\n          const _r6 = i0.ɵɵreference(42);\n          const _r8 = i0.ɵɵreference(48);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"readOnly\", ctx.isEdit)(\"disabled\", ctx.isEdit)(\"ngModel\", ctx.product.productId);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", _r1.invalid && (_r1.dirty || _r1.touched));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.product.productIcon);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.product.productName);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", _r4.invalid && (_r4.dirty || _r4.touched));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.product.categoryType);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngValue\", 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngValue\", 1);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngValue\", 2);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngValue\", 3);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.product.productDescription);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.product.productPrice);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", _r6.invalid && (_r6.dirty || _r6.touched));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.product.productStock);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", _r8.invalid && (_r8.dirty || _r8.touched));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.product.productStatus);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngValue\", 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngValue\", 1);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\n        }\n      },\n      dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinValidator, i4.NgModel, i4.NgForm]\n    });\n  }\n  return ProductEditComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}